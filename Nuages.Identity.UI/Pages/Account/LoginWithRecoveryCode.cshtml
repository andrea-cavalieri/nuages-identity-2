@page
@model LoginWithRecoveryCodeModel
@inject IOptions<Nuages.Web.Recaptcha.GoogleRecaptchaOptions> RecaptchaOptions

@{
    ViewData["Title"] = Localizer["recoveryCode.title"];
}


<div class="flex justify-center mt-6">
    <i class="fas fa-spinner fa-spin fa-3x" v-if="status == 'sending'" v-show="status == 'sending'" style="display: none"></i>
</div>


<div v-show="status != 'sending'">
    <form class="space-y-4 mt-4" method="POST" v-on:submit.prevent="login" id="formLogin" autocomplete=“off”>
        <span>@Localizer["recoveryCode.instructions"]</span>
        <partial name="Shared/ErrorList"/>
        <input id="code" name="code" type="text" autofocus="" v-model="code" placeholder="Code" required class="text-box" autocomplete=“off”>

        <button v-on:click.prevent="login" class="primary full">
            @Localizer["login:connect"]
        </button>
    </form>

    <div class="mt-4">
        <partial name="Shared/Warning" model='new { Title = Localizer["warning"], Message = Localizer["login.cantRemember"] }'/>
    </div>

</div>

@section MainFooter
{
    <partial name="Shared/BackToLogin"/>
}

@section Scripts
{
    <script>
       
        var codeRequiredMessage = "@string.Format(Localizer["errorMessage:required"]!, "Code")";
        var recaptcha = '@RecaptchaOptions.Value.SiteKey';
        var returnUrl = '@Html.Raw(Model.ReturnUrl)';
    </script>

    <script src="/js/pages/loginWithRecoveryCode.js"></script>
}